{"version":3,"sources":["components/SearchFilter.jsx","components/PersonForm.jsx","components/People.jsx","services/Persons.js","App.js","index.js"],"names":["SearchFilter","onChange","value","PersonForm","nameInput","numberInput","setNewName","setNewNumber","handleSubmit","onSubmit","type","People","persons","SearchField","deleteData","map","person","personIndex","currentPerson","name","number","onClick","window","confirm","id","baseURL","Axios","get","then","res","data","newObject","post","put","delete","Notifcation","message","className","Notifcation2","App","useState","setPersons","newName","newNumber","query","setQuery","errorMessaage","setErrorMessage","deleteError","setDeleteError","useEffect","PersonsService","console","log","filter","String","toLowerCase","includes","e","target","trim","preventDefault","personObject","personUpdate","find","pers","obj","catch","err","setTimeout","replacedData","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.08dfcb4d.chunk.js","sourcesContent":["import React from \"react\";\n\nfunction SearchFilter({ onChange, value }) {\n  return (\n    <div>\n      filter shown with: <input value={value} onChange={onChange} />\n    </div>\n  );\n}\n\nexport default SearchFilter;\n","import React from \"react\";\n\nfunction PersonForm({\n  nameInput,\n  numberInput,\n  setNewName,\n  setNewNumber,\n  handleSubmit,\n}) {\n  return (\n    <div>\n      <form onSubmit={handleSubmit}>\n        <div>\n          name: <input value={nameInput} onChange={setNewName} />\n        </div>\n        <div>\n          number: <input value={numberInput} onChange={setNewNumber} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default PersonForm;\n","import React from \"react\";\n\nfunction People({ persons, SearchField, deleteData }) {\n  return (\n    <div>\n      {SearchField.map((person, personIndex) => {\n        const currentPerson = { ...person };\n        return (\n          <p key={personIndex}>\n            {currentPerson.name} {currentPerson.number}{\" \"}\n            <button\n              onClick={() =>\n                window.confirm(`Delete ${person.name}`) && deleteData(person.id)\n              }\n            >\n              delete\n            </button>\n          </p>\n        );\n      })}\n    </div>\n  );\n}\n\nexport default People;\n","import Axios from \"axios\";\n\nconst baseURL = \"/api/persons\";\n\nconst getall = () => Axios.get(baseURL).then((res) => res.data);\n\nconst create = (newObject) =>\n  Axios.post(baseURL, newObject).then((res) => res.data);\n\nconst Replace = (id, newObject) =>\n  Axios.put(`${baseURL}/${id}`, newObject).then((res) => res.data);\n\nconst Delete = (id) => Axios.delete(`${baseURL}/${id}`).then((res) => res.data);\n\nexport default {\n  getall,\n  create,\n  Replace,\n  Delete,\n};\n\n////..............sec approach..................//\n// import Axios from \"axios\";\n\n// const axios = Axios.create({\n//   baseURL: \"http://localhost:3001/persons\",\n// });\n\n// const getall = () => axios.get(\"/\");\n\n// const create = (personData) => axios.post(\"/\", personData);\n\n// const update = (id, update) => axios.patch(`/${id}`, update);\n// const replace = (id, update) => axios.put(`/${id}`, update);\n// const Delete = (id) => axios.delete(`/${id}`);\n// export default {\n//   getall,\n//   create,\n//   update,\n//   Delete,\n//   replace,\n// };\n","import React, { useState, useEffect } from \"react\";\nimport SearchFilter from \"./components/SearchFilter\";\nimport PersonForm from \"./components/PersonForm\";\nimport People from \"./components/People\";\nimport PersonsService from \"./services/Persons\";\n\nconst Notifcation = ({ message }) => {\n  if (!message) {\n    return null;\n  }\n  return (\n    <div>\n      <div className=\"success\">{message}</div>\n      {/* <div className=\"error\">{message}</div> */}\n    </div>\n  );\n};\n\nconst Notifcation2 = ({ message }) => {\n  if (!message) {\n    return null;\n  }\n  return (\n    <div>\n      <div className=\"error\">{message}</div>\n    </div>\n  );\n};\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [query, setQuery] = useState(\"\");\n  const [errorMessaage, setErrorMessage] = useState(\"\");\n  const [deleteError, setDeleteError] = useState(\"\");\n\n  useEffect(() => {\n    PersonsService.getall().then((res) => {\n      console.log(res);\n      setPersons(res);\n    });\n  }, []);\n\n  const replacedData = (pers, obj) => {\n    const newObject = { ...pers, number: obj.number };\n\n    console.log(newObject);\n    PersonsService.Replace(pers.id, newObject)\n      .then((res) => {\n        console.log(res);\n        setPersons(\n          persons.map((person) => (person.id !== pers.id ? person : res))\n        );\n      })\n      .catch((err) => {\n        setPersons(persons.filter((person) => person.id !== pers.id));\n        setDeleteError(\n          `information of ${pers.name} has being deleted from server`\n        );\n        setTimeout(() => {\n          setDeleteError(null);\n        }, 5000);\n      });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (!newName || !newNumber) {\n      return null;\n    }\n\n    const personObject = {\n      name: newName,\n      number: newNumber,\n    };\n\n    // check if the current input correlate with the user input\n    const personUpdate = persons.find((person) => {\n      const currentPerson = { ...person };\n      console.log({ person }, currentPerson.name);\n      return currentPerson.name.toLowerCase() === newName.toLowerCase();\n    });\n    console.log({ personUpdate });\n    if (personUpdate) {\n      window.confirm(\n        `${personObject.name} is already added to phone book replace the old num with a new one`\n      ) && replacedData(personUpdate, personObject);\n      setNewNumber(\"\");\n      setNewName(\"\");\n    } else {\n      PersonsService.create(personObject).then((data) => {\n        console.log(data);\n        setPersons(persons.concat(data));\n        setNewNumber(\"\");\n        setNewName(\"\");\n        //adding timer\n        setErrorMessage(`${personObject.name} has being added succesfully`);\n        setTimeout(() => {\n          setErrorMessage(null);\n        }, 5000);\n      });\n    }\n  };\n\n  //check if the id from the person is not equal to the id from the server\n  const DeleteData = (id) => {\n    PersonsService.Delete(id).then((res) =>\n      setPersons(persons.filter((person) => person.id !== id))\n    );\n  };\n\n  // first aproachfor search field\n\n  // const SearchField = query.trim()\n  //   ? persons.filter(\n  //       (person) =>\n  //         person.name.toLowerCase().includes(query) ||\n  //         person.number.toLowerCase().includes(query)\n  //     )\n  //   : persons;\n\n  //sec method to use search feild\n\n  const SearchField = persons.filter((person) => {\n    return String(person.name).toLowerCase().includes(query);\n  });\n  console.log({ SearchField });\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Notifcation message={errorMessaage} />\n      <Notifcation2 message={deleteError} />\n\n      <SearchFilter\n        value={query}\n        onChange={(e) => setQuery(e.target.value.trim())}\n      />\n\n      <h1>add a new</h1>\n      <PersonForm\n        nameInput={newName}\n        numberInput={newNumber}\n        setNewName={(e) => setNewName(e.target.value)}\n        setNewNumber={(e) => setNewNumber(e.target.value)}\n        handleSubmit={handleSubmit}\n      />\n      <h2>Numbers</h2>\n      <People\n        persons={persons}\n        SearchField={SearchField}\n        deleteData={DeleteData}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <App />,\n\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}